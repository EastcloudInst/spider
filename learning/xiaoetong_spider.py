# TODO 视频网址
url = 'https://www.bilibili.com/bangumi/play/ss45303?theme=movie&spm_id_from=333.337.0.0'
headers = {
    "authority": "app57xp9kxc1037.pc.xiaoe-tech.com",
    "method": "GET",
    "path": "/live_pc/l_64e4300be4b09d7237aa6898",
    "scheme": "https",
    "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "accept-encoding": "gzip, deflate, br, zstd",
    "accept-language": "zh-CN,zh;q=0.9,en-GB;q=0.8,en-US;q=0.7,en;q=0.6",
    "cache-control": "no-cache",
    "cookie": "XIAOEID=c2990f62ed288456ccb4a70d3e5b842b; channel=homepage; cookie_channel=homepage; shop_version_type=8; anonymous_user_key=dV9hbm9ueW1vdXNfNjZjN2RjYzc3ZWQ4OV9Ec0VwMUJNRG51; LANGUAGE_app57xp9kxc1037=cn; sensorsdata2015jssdkcross=%7B%22%24device_id%22%3A%221917cb6755b581-0eae4dc65849bc-26001e51-1821369-1917cb6755cd09%22%7D; sajssdk_2015_new_user_app57xp9kxc1037_pc_xiaoe-tech_com=1; shopInfo={\"base\":{\"shop_id\":\"app57xp9kxc1037\",\"merchant_id\":\"mchfOl62ckI0VUw\",\"shop_name\":\"ç”»ç”»çš„æ˜¥å“¥æ–‡åŒ–ä¼ åª’\",\"shop_logo\":\"https://commonresource-1252524126.cdn.xiaoeknow.com/image/lqlzgnlm0q73.jpg\",\"main_type\":null,\"use_https\":0,\"footer_logo\":\"\",\"profile\":\"\",\"use_collection\":1,\"wx_app_type\":1,\"create_time\":\"2023-07-12 10:56:11\",\"extra\":\"\",\"check_name\":null,\"shop_tag\":0,\"is_authorized\":1,\"platform_key\":\"\"},\"domain\":{\"h5_url\":\"https://app57xp9kxc1037.h5.xiaoeknow.com\",\"pc_common_url\":\"https://app57xp9kxc1037.pc.xiaoe-tech.com\",\"pc_custom_url\":\"\",\"shop_id\":\"app57xp9kxc1037\",\"h5_url_ver\":0,\"pc_custom_domain\":\"\",\"pc_cname_domain\":\"app57xp9kxc1037.pc-cname.xiaoe-tech.com\"},\"pc\":{\"shop_id\":\"app57xp9kxc1037\",\"is_valid\":1,\"is_enable\":1,\"enabled_at\":\"1693902899\",\"pc_shop_logo\":\"https://wechatapppro-1252524126.file.myqcloud.com/app57xp9kxc1037/image/b_u_cin1c1m1l0cv8sjnuk9g/o843sdljzoaqeb.jpg\",\"record\":\"\",\"gwab_code\":\"å·¥å•†ç½‘ç›‘ ç”µå­æ ‡è¯†\",\"gwab_link\":\"\",\"gswj_link\":\"\",\"micro_page_seo\":null,\"content_page_seo\":null,\"record_number\":null,\"record_number_url\":null,\"cert_expires_at\":\"\",\"hover_menu_status\":0,\"hover_menu_config\":null,\"enable_un_login_menu\":0,\"enable_un_login_try_course\":0,\"enable_un_login_free_course\":0,\"enable_course_detail_module\":0,\"language\":\"cn\",\"is_without_auth\":1},\"version\":{\"shop_id\":\"app57xp9kxc1037\",\"version_type\":4,\"expire_time\":\"2025-08-10 11:05:07\",\"pre_version\":0,\"rights_type\":0},\"status\":{\"shop_id\":\"app57xp9kxc1037\",\"is_sealed\":0,\"is_expired\":0,\"sealed_reason\":\"\"},\"live\":{\"shop_id\":\"app57xp9kxc1037\",\"performer_avatar\":\"http://wechatapppro-1252524126.file.myqcloud.com/app8WEMULSx3308/image/4a28c83ecad16a0da0468ad0cecb60aa.png\",\"performer_name\":\"å°é¹…é€šåŠ©æ‰‹\",\"live_introduction\":\"æ¬¢è¿Žè¿›å…¥ç›´æ’­é—´ï¼š\\n1ã€è¯·è‡ªè¡Œè°ƒèŠ‚æ‰‹æœºéŸ³é‡è‡³åˆé€‚çš„çŠ¶æ€ã€‚\\n2ã€ç›´æ’­ç•Œé¢æ˜¾ç¤ºè®²å¸ˆå‘å¸ƒçš„å†…å®¹ï¼Œå¬ä¼—å‘è¨€å¯ä»¥åœ¨è®¨è®ºåŒºè¿›è¡Œæˆ–ä»¥å¼¹å¹•å½¢å¼æŸ¥çœ‹ã€‚\",\"is_watermark\":null,\"watermark_id\":\"\",\"watermark_url\":\"\",\"watermark_location\":null,\"watermark_glass\":null,\"watermark_size\":null,\"show_reward\":\"\",\"screen_record_cfg\":\"{\\\"switch\\\":1,\\\"desc_switch\\\":1,\\\"desc\\\":\\\"\\\\u3010\\\\u7248\\\\u6743\\\\u58f0\\\\u660e\\\\u3011\\\\u672c\\\\u8bfe\\\\u7a0b\\\\u7248\\\\u6743\\\\u5f52\\\\u63d0\\\\u4f9b\\\\u8005\\\\u6240\\\\u6709\\\\uff0c\\\\u4ec5\\\\u9650\\\\u4e2a\\\\u4eba\\\\u5b66\\\\u4e60\\\\uff0c\\\\u4e25\\\\u7981\\\\u4efb\\\\u4f55\\\\u5f62\\\\u5f0f\\\\u7684\\\\u5f55\\\\u5236\\\\u3001\\\\u4f20\\\\u64ad\\\\u548c\\\\u8d26\\\\u53f7\\\\u5206\\\\u4eab\\\\u3002\\\\u4e00\\\\u7ecf\\\\u53d1\\\\u73b0\\\\uff0c\\\\u5e73\\\\u53f0\\\\u5c06\\\\u4f9d\\\\u6cd5\\\\u4fdd\\\\u7559\\\\u8ffd\\\\u7a76\\\\u6743\\\\uff0c\\\\u60c5\\\\u8282\\\\u4e25\\\\u91cd\\\\u8005\\\\u5c06\\\\u627f\\\\u62c5\\\\u6cd5\\\\u5f8b\\\\u8d23\\\\u4efb\\\\u3002\\\",\\\"font_color\\\":\\\"#FFFFFF\\\",\\\"font_size\\\":\\\"12px\\\",\\\"position\\\":1,\\\"transparency\\\":\\\"1\\\"}\",\"is_default\":0,\"enable_web_rtc\":1,\"danmu\":null,\"show_live_in_e_mini\":1,\"is_privacy_protection\":0,\"watermark_position_x\":0,\"watermark_position_y\":0,\"watermark_width\":0,\"watermark_height\":0,\"watermark_processed_url\":\"\",\"is_open_msg_bubble\":1,\"msg_bubble_type\":1,\"is_jump_full_screen\":1,\"horse_race_lamp\":1},\"footer\":{\"id\":6542,\"app_id\":\"app57xp9kxc1037\",\"template_code\":\"template2\",\"data\":{\"copyright\":\"2015-2023 å¹¿å·žæ™¨é˜³æ•™è‚²å’¨è¯¢æœ‰é™å…¬å¸ All Rights Reserved.\",\"show_qq\":false,\"show_sina\":false,\"show_wechat\":true,\"text1\":\"è”ç³»ç”µè¯ï¼š13554541297\",\"text2\":\"å¹¿ä¸œçœå¹¿å·žå¸‚ç•ªç¦ºåŒºå¸‚æ–°è·¯ä¸œè‹±ç§‘åˆ›å›­2æ ‹505\",\"wechat_img\":\"https://wechatapppro-1252524126.file.myqcloud.com/app57xp9kxc1037/image/b_u_62d80a31c094d_Xu2znMJR/lm68fn1u06bx.jpg\"},\"in_use\":1,\"created_at\":\"2023-09-05 19:32:12\",\"updated_at\":\"2023-09-05 19:33:45\"},\"seo\":{\"default_seo_title\":\"ç”»ç”»çš„æ˜¥å“¥æ–‡åŒ–ä¼ åª’\",\"default_seo_description\":\"å¼€å¯ä½ çš„å­¦ä¹ ä¹‹æ—…\"},\"version_type\":4,\"expire_time\":\"2025-08-10 11:05:07\",\"expire_day\":352,\"shop_type\":0,\"is_web_sdk\":false}; pc_user_key=b59f8df1e24c82f0b780cbc0f0255c20; xenbyfpfUnhLsdkZbX=0; show_user_icon=1; appId=\"app57xp9kxc1037\"; dataUpJssdkCookie={\"wxver\":\"\",\"net\":\"\",\"sid\":\"\"}; app_id=\"app57xp9kxc1037\"; sa_jssdk_2015_app57xp9kxc1037_pc_xiaoe-tech_com=%7B%22distinct_id%22%3A%22u_64f2e462679cd_OlsurCifMv%22%2C%22first_id%22%3A%221917cb6755b581-0eae4dc65849bc-26001e51-1821369-1917cb6755cd09%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%2C%22%24latest_referrer%22%3A%22%22%7D%7D; userInfo={\"address\":null,\"app_id\":\"app57xp9kxc1037\",\"birth\":null,\"can_modify_phone\":true,\"company\":null,\"job\":null,\"universal_union_id\":\"oTHW5v5XOidYYMgnIo2IRBOgfoxA\",\"user_id\":\"u_64f2e462679cd_OlsurCifMv\",\"wx_account\":\"\",\"wx_avatar\":\"http://wechatavator-1252524126.file.myqcloud.com/app57xp9kxc1037/image/compress/u_64f2e462679cd_OlsurCifMv_20230902_fa560c.jpeg\",\"wx_gender\":0,\"phone\":\"16622323048\",\"pc_user_key\":\"b59f8df1e24c82f0b780cbc0f0255c20\",\"permission_visit\":0,\"permission_comment\":0,\"permission_buy\":0,\"pwd_isset\":false,\"channels\":[{\"type\":\"wechat\",\"active\":1},{\"type\":\"qq\",\"active\":0}],\"area_code\":\"86\"}; cookie_session_id=5m0cOEvaqasZz2umAs1Q6aevPfhqxAiN",
    "pragma": "no-cache",
    "priority": "u=0, i",
    "sec-ch-ua": "\"Not)A;Brand\";v=\"99\", \"Google Chrome\";v=\"127\", \"Chromium\";v=\"127\"",
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": "\"Windows\"",
    "sec-fetch-dest": "document",
    "sec-fetch-mode": "navigate",
    "sec-fetch-site": "none",
    "sec-fetch-user": "?1",
    "upgrade-insecure-requests": "1",
    "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
}
import requests
# TODO 通过F12查看视频的地址
video_url = 'https://app57xp9kxc1037.pc.xiaoe-tech.com/c4cee9b9-8e82-4a0e-b516-42898f237b9f'

video_response = requests.get(video_url, headers=headers)
with open('shiping.mp4', mode='wb') as v:
    v.write(video_response.content)
    
# # TODO 通过F12查看音频的地址
# audio_url = 'https://upos-sz-mirrorcos.bilivideo.com/upgcxcode/80/48/1180244880/1180244880-1-30280.m4s?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfqXBvEqxTEto8BTrNvN0GvT90W5JZMkX_YN0MvXg8gNEV4NC8xNEV4N03eN0B5tZlqNxTEto8BTrNvNeZVuJ10Kj_g2UB02J0mN0B5tZlqNCNEto8BTrNvNC7MTX502C8f2jmMQJ6mqF2fka1mqx6gqj0eN0B599M=\u0026uipk=5\u0026nbs=1\u0026deadline=1721039386\u0026gen=playurlv2\u0026os=cosbv\u0026oi=0\u0026trid=a2acf48626f84fa6b0d35ffa6b6c10e1p\u0026mid=334717844\u0026platform=pc\u0026og=cos\u0026upsig=217a5ac9415b927fb979d40e52bb5c2b\u0026uparams=e,uipk,nbs,deadline,gen,os,oi,trid,mid,platform,og\u0026bvc=vod\u0026nettype=0\u0026orderid=0,3\u0026buvid=6184A61E-F088-DB91-E65D-1BFD0088550998951infoc\u0026build=0\u0026f=p_0_0\u0026agrr=1\u0026bw=24045\u0026logo=80000000'
# audio_response = requests.get(audio_url, headers=headers)
# with open('yingping.mp3', mode='wb') as v:
#     v.write(audio_response.content)
